(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{315:function(a,t,e){"use strict";e.r(t);var s=e(19),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"pandas-sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pandas-sql"}},[a._v("#")]),a._v(" pandas_sql")]),a._v(" "),e("p",[a._v("pandas 可以借助其 io 中的 "),e("code",[a._v("read_sql")]),a._v(" 和各个类型的 "),e("code",[a._v("to_sql")]),a._v(" 方法来实现从数据库中获取数据，修改数据。")]),a._v(" "),e("p",[a._v("当然，数据库的类型有很多，pandas 借助了强大的 sqlalchemy 来满足 mysql，redis 等不同种类数据库的操作。当然 python 原生支持 sqlit3，因此这个可以直接用。")]),a._v(" "),e("p",[a._v("这里着重解释 DataFrame 的几个方法，其他的大同小异。")]),a._v(" "),e("h2",{attrs:{id:"pandas-dataframe-to-sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pandas-dataframe-to-sql"}},[a._v("#")]),a._v(" "),e("a",{attrs:{href:"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_sql.html#pandas-dataframe-to-sql",target:"_blank",rel:"noopener noreferrer"}},[a._v("pandas.DataFrame.to_sql"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("code",[a._v("DataFrame.to_sql")]),a._v("("),e("em",[a._v("self")]),a._v(", "),e("em",[a._v("name: str")]),a._v(", "),e("em",[a._v("con")]),a._v(", "),e("em",[a._v("schema=None")]),a._v(", "),e("em",[a._v("if_exists: str = 'fail'")]),a._v(", "),e("em",[a._v("index: bool = True")]),a._v(", "),e("em",[a._v("index_label=None")]),a._v(", "),e("em",[a._v("chunksize=None")]),a._v(", "),e("em",[a._v("dtype=None")]),a._v(", "),e("em",[a._v("method=None")]),a._v(")")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("参数")]),a._v(" "),e("th",[a._v("类型")]),a._v(" "),e("th",[a._v("默认")]),a._v(" "),e("th",[a._v("详细")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("name")]),a._v(" "),e("td",[a._v("str")]),a._v(" "),e("td",[a._v("/")]),a._v(" "),e("td",[a._v("Name of SQL table.")])]),a._v(" "),e("tr",[e("td",[a._v("con")]),a._v(" "),e("td",[a._v("sqlalchemy.engine.Engine or sqlite3.Connection")]),a._v(" "),e("td",[a._v("/")]),a._v(" "),e("td",[a._v("Using SQLAlchemy makes it possible to use any DB supported by that library. Legacy support is provided for sqlite3.Connection objects.")])]),a._v(" "),e("tr",[e("td",[a._v("schema")]),a._v(" "),e("td"),a._v(" "),e("td"),a._v(" "),e("td")]),a._v(" "),e("tr",[e("td",[a._v("if_exists")]),a._v(" "),e("td",[a._v("{‘fail’, ‘replace’, ‘append’}")]),a._v(" "),e("td",[a._v("「fail」")]),a._v(" "),e("td",[a._v("fail: Raise a ValueError.")])]),a._v(" "),e("tr",[e("td",[a._v("index")]),a._v(" "),e("td",[a._v("bool")]),a._v(" "),e("td",[a._v("True")]),a._v(" "),e("td")]),a._v(" "),e("tr",[e("td"),a._v(" "),e("td"),a._v(" "),e("td"),a._v(" "),e("td")])])]),a._v(" "),e("h3",{attrs:{id:"存入乱码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存入乱码"}},[a._v("#")]),a._v(" 存入乱码")]),a._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('engine = create_engine(str(r"mysql://%s:" + \'%s\' + "@%s/%s?charset=utf8") % (user, password, host, db))\n')])])]),e("h2",{attrs:{id:"pandas-read-sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pandas-read-sql"}},[a._v("#")]),a._v(" "),e("a",{attrs:{href:"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_sql.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("pandas.read_sql"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"pandas-read-sql-query"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pandas-read-sql-query"}},[a._v("#")]),a._v(" "),e("a",{attrs:{href:"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_sql_query.html#pandas.read_sql_query",target:"_blank",rel:"noopener noreferrer"}},[a._v("pandas.read_sql_query"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"坑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#坑"}},[a._v("#")]),a._v(" 坑")]),a._v(" "),e("p",[e("a",{attrs:{href:"http://www.rmworking.com/blog/2019/02/28/python3-pandas-tosql-tian-keng/",target:"_blank",rel:"noopener noreferrer"}},[a._v("python3 pandas to_sql填坑"),e("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);